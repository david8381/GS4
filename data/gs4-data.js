(function (root) {
const races = [
  { key: "burghal", name: "Burghal Gnome", baseWeight: 40, weightFactor: 0.4, maxWeight: 120, encFactor: 0.5 },
  { key: "halfling", name: "Halfling", baseWeight: 45.3333, weightFactor: 0.4533, maxWeight: 136, encFactor: 0.5 },
  { key: "forest-gnome", name: "Forest Gnome", baseWeight: 47.6667, weightFactor: 0.4767, maxWeight: 143, encFactor: 0.6 },
  { key: "aelotoi", name: "Aelotoi", baseWeight: 67.6667, weightFactor: 0.6767, maxWeight: 203, encFactor: 0.75 },
  { key: "elf", name: "Elf", baseWeight: 70, weightFactor: 0.7, maxWeight: 210, encFactor: 0.78 },
  { key: "erithian", name: "Erithian", baseWeight: 72.3333, weightFactor: 0.7233, maxWeight: 217, encFactor: 0.85 },
  { key: "sylvankind", name: "Sylvankind", baseWeight: 72.3333, weightFactor: 0.7233, maxWeight: 217, encFactor: 0.81 },
  { key: "dark-elf", name: "Dark Elf", baseWeight: 77.6667, weightFactor: 0.7767, maxWeight: 233, encFactor: 0.84 },
  { key: "dwarf", name: "Dwarf", baseWeight: 77.6667, weightFactor: 0.7767, maxWeight: 233, encFactor: 0.8 },
  { key: "half-elf", name: "Half-Elf", baseWeight: 82.3333, weightFactor: 0.8233, maxWeight: 247, encFactor: 0.92 },
  { key: "human", name: "Human", baseWeight: 90, weightFactor: 0.9, maxWeight: 270, encFactor: 1.0 },
  { key: "half-krolvin", name: "Half-Krolvin", baseWeight: 100, weightFactor: 1.0, maxWeight: 300, encFactor: 1.1 },
  { key: "giantman", name: "Giantman", baseWeight: 120, weightFactor: 1.2, maxWeight: 360, encFactor: 1.33 },
];

const armorAsg = [
  { key: "none", name: "None / Normal Clothing (ASG 1)", standardWeight: 0, cmanPenalty: 0 },
  { key: "asg2", name: "Robes (ASG 2)", standardWeight: 8, cmanPenalty: 0 },
  { key: "asg5", name: "Light Leather (ASG 5)", standardWeight: 10, cmanPenalty: 0 },
  { key: "asg6", name: "Full Leather (ASG 6)", standardWeight: 13, cmanPenalty: 0 },
  { key: "asg7", name: "Reinforced Leather (ASG 7)", standardWeight: 15, cmanPenalty: 2 },
  { key: "asg8", name: "Double Leather (ASG 8)", standardWeight: 16, cmanPenalty: 2 },
  { key: "asg9", name: "Leather Breastplate (ASG 9)", standardWeight: 16, cmanPenalty: 3 },
  { key: "asg10", name: "Cuirbouilli Leather (ASG 10)", standardWeight: 17, cmanPenalty: 3 },
  { key: "asg11", name: "Studded Leather (ASG 11)", standardWeight: 20, cmanPenalty: 3 },
  { key: "asg12", name: "Brigandine Armor (ASG 12)", standardWeight: 25, cmanPenalty: 4 },
  { key: "asg13", name: "Chain Mail (ASG 13)", standardWeight: 25, cmanPenalty: 4 },
  { key: "asg14", name: "Double Chain (ASG 14)", standardWeight: 25, cmanPenalty: 4 },
  { key: "asg15", name: "Augmented Chain (ASG 15)", standardWeight: 26, cmanPenalty: 5 },
  { key: "asg16", name: "Chain Hauberk (ASG 16)", standardWeight: 27, cmanPenalty: 5 },
  { key: "asg17", name: "Metal Breastplate (ASG 17)", standardWeight: 23, cmanPenalty: 6 },
  { key: "asg18", name: "Augmented Plate (ASG 18)", standardWeight: 25, cmanPenalty: 7 },
  { key: "asg19", name: "Half Plate (ASG 19)", standardWeight: 50, cmanPenalty: 8 },
  { key: "asg20", name: "Full Plate (ASG 20)", standardWeight: 75, cmanPenalty: 10 },
];

const stats = [
  { key: "str", label: "Strength", abbr: "STR" },
  { key: "con", label: "Constitution", abbr: "CON" },
  { key: "dex", label: "Dexterity", abbr: "DEX" },
  { key: "agi", label: "Agility", abbr: "AGI" },
  { key: "dis", label: "Discipline", abbr: "DIS" },
  { key: "aur", label: "Aura", abbr: "AUR" },
  { key: "log", label: "Logic", abbr: "LOG" },
  { key: "int", label: "Intuition", abbr: "INT" },
  { key: "wis", label: "Wisdom", abbr: "WIS" },
  { key: "inf", label: "Influence", abbr: "INF" },
];

const skillCatalog = [
  "Armor Use",
  "Shield Use",
  "Combat Maneuvers",
  "Edged Weapons",
  "Blunt Weapons",
  "Two-Handed Weapons",
  "Ranged Weapons",
  "Thrown Weapons",
  "Polearm Weapons",
  "Brawling",
  "Two Weapon Combat",
  "Ambush",
  "Multi Opponent Combat",
  "Physical Fitness",
  "Dodging",
  "Arcane Symbols",
  "Magic Item Use",
  "Spell Aiming",
  "Harness Power",
  "Elemental Mana Control",
  "Mental Mana Control",
  "Spirit Mana Control",
  "Elemental Lore - Air",
  "Elemental Lore - Earth",
  "Elemental Lore - Fire",
  "Elemental Lore - Water",
  "Spiritual Lore - Blessings",
  "Spiritual Lore - Religion",
  "Spiritual Lore - Summoning",
  "Sorcerous Lore - Demonology",
  "Sorcerous Lore - Necromancy",
  "Mental Lore - Divination",
  "Mental Lore - Manipulation",
  "Mental Lore - Telepathy",
  "Mental Lore - Transference",
  "Mental Lore - Transformation",
  "Stalking and Hiding",
  "Perception",
  "Climbing",
  "Swimming",
  "Disarming Traps",
  "Picking Locks",
  "Picking Pockets",
  "First Aid",
  "Survival",
  "Trading",
  "Minor Elemental",
  "Major Elemental",
  "Minor Spiritual",
  "Major Spiritual",
  "Minor Mental",
  "Major Mental",
  "Wizard",
  "Bard",
  "Cleric",
  "Empath",
  "Ranger",
  "Paladin",
  "Sorcerer",
  "Monk",
];

const spellCircles = new Set([
  "Minor Elemental",
  "Major Elemental",
  "Minor Spiritual",
  "Major Spiritual",
  "Minor Mental",
  "Major Mental",
  "Wizard",
  "Bard",
  "Cleric",
  "Empath",
  "Ranger",
  "Paladin",
  "Sorcerer",
  "Monk",
]);

const professionSpellCircleMap = {
  Bard: new Set(["Bard", "Minor Elemental"]),
  Cleric: new Set(["Cleric", "Major Spiritual", "Minor Spiritual"]),
  Empath: new Set(["Empath", "Major Spiritual", "Minor Spiritual"]),
  Monk: new Set(["Minor Mental", "Minor Spiritual"]),
  Paladin: new Set(["Paladin", "Minor Spiritual"]),
  Ranger: new Set(["Ranger", "Minor Spiritual"]),
  Rogue: new Set(["Minor Elemental", "Minor Spiritual"]),
  Sorcerer: new Set(["Sorcerer", "Minor Elemental", "Minor Spiritual"]),
  Warrior: new Set(["Minor Elemental", "Minor Spiritual"]),
  Wizard: new Set(["Wizard", "Major Elemental", "Minor Elemental"]),
};

const skillCategoryByName = {
  "Armor Use": "Armor and Shield",
  "Shield Use": "Armor and Shield",
  "Edged Weapons": "Weapon Skills",
  "Blunt Weapons": "Weapon Skills",
  "Two-Handed Weapons": "Weapon Skills",
  "Ranged Weapons": "Weapon Skills",
  "Thrown Weapons": "Weapon Skills",
  "Polearm Weapons": "Weapon Skills",
  Brawling: "Weapon Skills",
  "Two Weapon Combat": "Weapon Skills",
  "Combat Maneuvers": "Combat Skills",
  Ambush: "Combat Skills",
  "Multi Opponent Combat": "Combat Skills",
  "Physical Fitness": "Combat Skills",
  Dodging: "Combat Skills",
  "Arcane Symbols": "Magic Skills",
  "Magic Item Use": "Magic Skills",
  "Spell Aiming": "Magic Skills",
  "Harness Power": "Magic Skills",
  "Elemental Mana Control": "Magic Skills",
  "Mental Mana Control": "Magic Skills",
  "Spirit Mana Control": "Magic Skills",
  "Elemental Lore - Air": "Lores",
  "Elemental Lore - Earth": "Lores",
  "Elemental Lore - Fire": "Lores",
  "Elemental Lore - Water": "Lores",
  "Spiritual Lore - Blessings": "Lores",
  "Spiritual Lore - Religion": "Lores",
  "Spiritual Lore - Summoning": "Lores",
  "Sorcerous Lore - Demonology": "Lores",
  "Sorcerous Lore - Necromancy": "Lores",
  "Mental Lore - Divination": "Lores",
  "Mental Lore - Manipulation": "Lores",
  "Mental Lore - Telepathy": "Lores",
  "Mental Lore - Transference": "Lores",
  "Mental Lore - Transformation": "Lores",
  "Stalking and Hiding": "Subterfuge",
  "Disarming Traps": "Subterfuge",
  "Picking Locks": "Subterfuge",
  "Picking Pockets": "Subterfuge",
  Perception: "Survival and Utility",
  Climbing: "Survival and Utility",
  Swimming: "Survival and Utility",
  "First Aid": "Survival and Utility",
  Survival: "Survival and Utility",
  Trading: "Survival and Utility",
  "Minor Elemental": "Spell Circles",
  "Major Elemental": "Spell Circles",
  "Minor Spiritual": "Spell Circles",
  "Major Spiritual": "Spell Circles",
  "Minor Mental": "Spell Circles",
  "Major Mental": "Spell Circles",
  Wizard: "Spell Circles",
  Bard: "Spell Circles",
  Cleric: "Spell Circles",
  Empath: "Spell Circles",
  Ranger: "Spell Circles",
  Paladin: "Spell Circles",
  Sorcerer: "Spell Circles",
  Monk: "Spell Circles",
};

const skillCategoryOrder = [
  "Armor and Shield",
  "Weapon Skills",
  "Combat Skills",
  "Magic Skills",
  "Lores",
  "Subterfuge",
  "Survival and Utility",
  "Spell Circles",
  "Other",
];

const skillAliasMap = {
  pickpocketing: "Picking Pockets",
  "picking pockets": "Picking Pockets",
  "elemental lore, air": "Elemental Lore - Air",
  "elemental lore, earth": "Elemental Lore - Earth",
  "elemental lore, fire": "Elemental Lore - Fire",
  "elemental lore, water": "Elemental Lore - Water",
  "spiritual lore, blessings": "Spiritual Lore - Blessings",
  "spiritual lore, religion": "Spiritual Lore - Religion",
  "spiritual lore, summoning": "Spiritual Lore - Summoning",
  "sorcerous lore, demonology": "Sorcerous Lore - Demonology",
  "sorcerous lore, necromancy": "Sorcerous Lore - Necromancy",
  "mental lore, divination": "Mental Lore - Divination",
  "mental lore, manipulation": "Mental Lore - Manipulation",
  "mental lore, telepathy": "Mental Lore - Telepathy",
  "mental lore, transference": "Mental Lore - Transference",
  "mental lore, transformation": "Mental Lore - Transformation",
};

const ascMnemonicMap = {
  agility: "Agility",
  aura: "Aura",
  constitution: "Constitution",
  dexterity: "Dexterity",
  discipline: "Discipline",
  influence: "Influence",
  intuition: "Intuition",
  logic: "Logic",
  strength: "Strength",
  wisdom: "Wisdom",
  ambush: "Ambush",
  arcanesymbols: "Arcane Symbols",
  armoruse: "Armor Use",
  bluntweapons: "Blunt Weapons",
  brawling: "Brawling",
  climbing: "Climbing",
  combatmaneuvers: "Combat Maneuvers",
  disarmingtraps: "Disarming Traps",
  dodging: "Dodging",
  edgedweapons: "Edged Weapons",
  elair: "Elemental Lore - Air",
  elearth: "Elemental Lore - Earth",
  elfire: "Elemental Lore - Fire",
  elwater: "Elemental Lore - Water",
  elementalmc: "Elemental Mana Control",
  firstaid: "First Aid",
  harnesspower: "Harness Power",
  magicitemuse: "Magic Item Use",
  mldivination: "Mental Lore - Divination",
  mlmanipulation: "Mental Lore - Manipulation",
  mltelepathy: "Mental Lore - Telepathy",
  mltransference: "Mental Lore - Transference",
  mltransform: "Mental Lore - Transformation",
  mentalmc: "Mental Mana Control",
  multiopponent: "Multi Opponent Combat",
  perception: "Perception",
  physicalfitness: "Physical Fitness",
  pickinglocks: "Picking Locks",
  pickingpockets: "Picking Pockets",
  polearmsweapons: "Polearm Weapons",
  rangedweapons: "Ranged Weapons",
  shielduse: "Shield Use",
  soldemonology: "Sorcerous Lore - Demonology",
  solnecromancy: "Sorcerous Lore - Necromancy",
  spellaiming: "Spell Aiming",
  spiritmc: "Spirit Mana Control",
  slblessings: "Spiritual Lore - Blessings",
  slreligion: "Spiritual Lore - Religion",
  slsummoning: "Spiritual Lore - Summoning",
  stalking: "Stalking and Hiding",
  survival: "Survival",
  swimming: "Swimming",
  thrownweapons: "Thrown Weapons",
  trading: "Trading",
  twoweaponcombat: "Two Weapon Combat",
  twohandedweapon: "Two-Handed Weapons",
};

const professions = [
  "Bard",
  "Cleric",
  "Empath",
  "Monk",
  "Paladin",
  "Ranger",
  "Rogue",
  "Sorcerer",
  "Warrior",
  "Wizard",
];

const professionPrimeReqs = {
  Bard: ["aur", "inf"],
  Cleric: ["int", "wis"],
  Empath: ["inf", "wis"],
  Monk: ["agi", "str"],
  Paladin: ["str", "wis"],
  Ranger: ["dex", "int"],
  Rogue: ["dex", "agi"],
  Sorcerer: ["aur", "wis"],
  Warrior: ["str", "con"],
  Wizard: ["aur", "log"],
};

const levelThresholds = [
  0, 2500, 5000, 10000, 17500, 27500, 40000, 55000, 72500, 92500, 115000,
  140000, 167000, 197500, 230000, 265000, 302000, 341000, 382000, 425000, 470000,
  517000, 566000, 617000, 670000, 725000, 781500, 839500, 899000, 960000, 1022500,
  1086500, 1152000, 1219000, 1287500, 1357500, 1429000, 1502000, 1576500, 1652500, 1730000,
  1808500, 1888000, 1968500, 2050000, 2132500, 2216000, 2300500, 2386000, 2472500, 2560000,
  2648000, 2736500, 2825500, 2915000, 3005000, 3095500, 3186500, 3278000, 3370000, 3462500,
  3555500, 3649000, 3743000, 3837500, 3932500, 4028000, 4124000, 4220500, 4317500, 4415000,
  4513000, 4611500, 4710500, 4810000, 4910000, 5010500, 5111500, 5213000, 5315000, 5417500,
  5520500, 5624000, 5728000, 5832500, 5937500, 6043000, 6149000, 6255500, 6362500, 6470000,
  6578000, 6686500, 6795500, 6905000, 7015000, 7125500, 7236500, 7348000, 7460000, 7572500,
];

const costProfessionOrder = ["Warrior", "Rogue", "Monk", "Wizard", "Sorcerer", "Cleric", "Empath", "Ranger", "Bard", "Paladin"];

// Source: GSWiki profession tables (cost columns), normalized to the
// costProfessionOrder index layout.
// https://gswiki.play.net/Category:Professions
const trainingCostRows = {
  "Two Weapon Combat": [[2, 2], [2, 2], [2, 2], [12, 12], [12, 12], [9, 9], [12, 12], [3, 2], [3, 2], [3, 3]],
  "Armor Use": [[2, 0], [5, 0], [10, 0], [14, 0], [15, 0], [8, 0], [15, 0], [5, 0], [5, 0], [3, 0]],
  "Shield Use": [[2, 0], [4, 0], [8, 0], [13, 0], [13, 0], [13, 0], [13, 0], [5, 0], [5, 0], [2, 0]],
  "Combat Maneuvers": [[4, 3], [4, 4], [5, 3], [12, 8], [12, 8], [10, 8], [12, 8], [6, 4], [8, 4], [5, 4]],
  "Edged Weapons": [[2, 1], [2, 1], [2, 1], [6, 1], [6, 2], [6, 1], [6, 2], [3, 1], [3, 1], [3, 1]],
  "Blunt Weapons": [[2, 1], [3, 1], [3, 1], [6, 1], [6, 2], [6, 1], [6, 2], [4, 1], [4, 1], [3, 1]],
  "Two-Handed Weapons": [[3, 1], [6, 2], [5, 2], [14, 3], [14, 3], [10, 3], [13, 3], [6, 2], [7, 2], [4, 2]],
  "Ranged Weapons": [[2, 1], [3, 1], [4, 1], [14, 3], [14, 3], [9, 3], [14, 3], [3, 1], [4, 2], [6, 2]],
  "Thrown Weapons": [[2, 1], [2, 1], [2, 1], [8, 2], [9, 3], [9, 3], [9, 3], [3, 1], [5, 1], [3, 1]],
  "Polearm Weapons": [[3, 1], [7, 2], [6, 2], [14, 3], [14, 3], [11, 3], [14, 3], [7, 2], [6, 1], [5, 2]],
  "Brawling": [[2, 1], [3, 1], [2, 1], [10, 2], [10, 2], [6, 1], [10, 2], [4, 1], [3, 1], [4, 1]],
  "Ambush": [[3, 4], [2, 1], [3, 2], [15, 10], [15, 14], [12, 12], [15, 15], [3, 3], [4, 4], [4, 5]],
  "Multi Opponent Combat": [[4, 3], [10, 3], [5, 2], [15, 10], [15, 10], [15, 8], [15, 10], [10, 4], [7, 3], [5, 2]],
  "Physical Fitness": [[2, 0], [3, 0], [2, 0], [8, 0], [8, 0], [8, 0], [2, 0], [4, 0], [4, 0], [3, 0]],
  "Dodging": [[4, 2], [2, 1], [1, 1], [20, 20], [20, 20], [20, 20], [20, 20], [7, 5], [6, 6], [5, 3]],
  "Arcane Symbols": [[0, 7], [0, 7], [0, 6], [0, 2], [0, 1], [0, 2], [0, 2], [0, 5], [0, 4], [0, 5]],
  "Magic Item Use": [[0, 8], [0, 8], [0, 7], [0, 1], [0, 2], [0, 2], [0, 2], [0, 5], [0, 4], [0, 5]],
  "Spell Aiming": [[4, 8], [4, 5], [3, 4], [2, 1], [3, 1], [3, 1], [3, 1], [4, 1], [4, 1], [4, 2]],
  "Harness Power": [[0, 10], [0, 9], [0, 6], [0, 4], [0, 4], [0, 4], [0, 4], [0, 5], [0, 5], [0, 5]],
  "Elemental Mana Control": [[0, 10], [0, 10], [0, 15], [0, 3], [0, 3], [0, 12], [0, 12], [0, 15], [0, 5], [0, 15]],
  "Mental Mana Control": [[0, 15], [0, 15], [0, 8], [0, 12], [0, 12], [0, 12], [0, 3], [0, 15], [0, 5], [0, 15]],
  "Spirit Mana Control": [[0, 10], [0, 10], [0, 8], [0, 12], [0, 3], [0, 3], [0, 3], [0, 5], [0, 15], [0, 5]],
  "Spell Research": [[0, 120], [0, 67], [0, 38], [0, 8], [0, 8], [0, 8], [0, 8], [0, 17], [0, 17], [0, 17]],
  "Elemental Lore": [[0, 15], [0, 15], [0, 40], [0, 6], [0, 6], [0, 20], [0, 20], [0, 20], [0, 8], [0, 20]],
  "Spiritual Lore": [[0, 15], [0, 15], [0, 12], [0, 20], [0, 6], [0, 6], [0, 6], [0, 10], [0, 20], [0, 10]],
  "Sorcerous Lore": [[0, 30], [0, 30], [0, 35], [0, 10], [0, 6], [0, 10], [0, 12], [0, 18], [0, 18], [0, 18]],
  "Mental Lore": [[0, 40], [0, 40], [0, 12], [0, 20], [0, 20], [0, 20], [0, 6], [0, 20], [0, 8], [0, 20]],
  "Survival": [[1, 3], [2, 2], [2, 2], [3, 2], [3, 2], [3, 2], [3, 2], [1, 1], [2, 2], [2, 2]],
  "Disarming Traps": [[2, 4], [1, 1], [3, 4], [2, 6], [2, 6], [2, 6], [2, 6], [2, 4], [2, 3], [2, 5]],
  "Picking Locks": [[2, 3], [1, 1], [3, 3], [2, 4], [2, 4], [2, 4], [2, 4], [2, 3], [2, 1], [2, 4]],
  "Stalking and Hiding": [[3, 2], [1, 1], [3, 2], [5, 4], [5, 4], [5, 4], [5, 4], [2, 1], [3, 2], [4, 4]],
  "Perception": [[0, 3], [0, 1], [0, 2], [0, 3], [0, 3], [0, 3], [0, 3], [0, 2], [0, 3], [0, 3]],
  "Climbing": [[3, 0], [1, 0], [1, 0], [4, 0], [4, 0], [4, 0], [4, 0], [2, 0], [3, 0], [3, 0]],
  "Swimming": [[2, 0], [2, 0], [2, 0], [3, 0], [3, 0], [3, 0], [3, 0], [2, 0], [3, 0], [2, 0]],
  "First Aid": [[1, 2], [1, 2], [1, 2], [2, 1], [2, 1], [1, 1], [1, 0], [2, 1], [2, 1], [1, 1]],
  "Trading": [[0, 3], [0, 3], [0, 3], [0, 3], [0, 3], [0, 3], [0, 3], [0, 3], [0, 2], [0, 3]],
  "Picking Pockets": [[2, 3], [1, 0], [2, 2], [3, 3], [3, 3], [3, 3], [3, 3], [2, 3], [2, 1], [4, 4]],
};

const loreSkillNames = new Set([
  "Elemental Lore - Air", "Elemental Lore - Earth", "Elemental Lore - Fire", "Elemental Lore - Water",
  "Spiritual Lore - Blessings", "Spiritual Lore - Religion", "Spiritual Lore - Summoning",
  "Sorcerous Lore - Demonology", "Sorcerous Lore - Necromancy",
  "Mental Lore - Divination", "Mental Lore - Manipulation", "Mental Lore - Telepathy", "Mental Lore - Transference", "Mental Lore - Transformation",
]);

// Source: GSWiki profession tables (max-ranks color coding), normalized to
// explicit numeric per-level caps in costProfessionOrder.
// https://gswiki.play.net/Category:Professions
const maxPerLevelRows = {
  "Armor Use": [3, 2, 2, 1, 1, 1, 1, 2, 2, 3],
  "Shield Use": [3, 2, 2, 1, 1, 1, 1, 2, 2, 3],
  "Combat Maneuvers": [2, 2, 2, 1, 1, 1, 1, 2, 2, 2],
  "Edged Weapons": [2, 2, 2, 1, 1, 1, 1, 2, 2, 2],
  "Blunt Weapons": [2, 2, 2, 1, 1, 1, 1, 2, 2, 2],
  "Two-Handed Weapons": [2, 2, 2, 1, 1, 1, 1, 2, 2, 2],
  "Ranged Weapons": [2, 2, 2, 1, 1, 1, 1, 2, 2, 2],
  "Thrown Weapons": [2, 2, 2, 1, 1, 1, 1, 2, 2, 2],
  "Polearm Weapons": [2, 2, 2, 1, 1, 1, 1, 2, 2, 2],
  Brawling: [2, 2, 2, 1, 1, 1, 1, 2, 2, 2],
  "Two Weapon Combat": [2, 2, 2, 1, 1, 1, 1, 2, 2, 2],
  Ambush: [2, 2, 2, 1, 1, 1, 1, 2, 1, 1],
  "Multi Opponent Combat": [2, 1, 2, 1, 1, 1, 1, 1, 1, 1],
  "Physical Fitness": [3, 2, 3, 1, 1, 1, 3, 2, 2, 2],
  Dodging: [3, 3, 3, 1, 1, 1, 1, 2, 2, 2],
  "Arcane Symbols": [1, 1, 1, 2, 2, 2, 2, 1, 2, 1],
  "Magic Item Use": [1, 1, 1, 2, 2, 2, 2, 1, 2, 1],
  "Spell Aiming": [1, 1, 1, 2, 2, 2, 2, 2, 2, 2],
  "Harness Power": [1, 1, 1, 3, 3, 3, 3, 2, 2, 2],
  "Elemental Mana Control": [1, 1, 1, 3, 2, 1, 1, 1, 1, 1],
  "Mental Mana Control": [1, 1, 1, 1, 1, 1, 2, 1, 1, 1],
  "Spirit Mana Control": [1, 1, 1, 1, 2, 3, 2, 1, 1, 1],
  "Elemental Lore": [1, 1, 1, 2, 2, 1, 1, 1, 1, 1],
  "Spiritual Lore": [1, 1, 1, 1, 2, 2, 2, 1, 1, 2],
  "Sorcerous Lore": [1, 1, 1, 1, 2, 1, 1, 1, 1, 1],
  "Mental Lore": [1, 1, 1, 1, 1, 1, 2, 1, 1, 1],
  "Stalking and Hiding": [2, 3, 2, 1, 1, 1, 1, 2, 2, 1],
  Perception: [2, 3, 2, 2, 2, 2, 2, 2, 2, 2],
  Climbing: [2, 2, 2, 1, 1, 1, 1, 2, 2, 2],
  Swimming: [2, 2, 2, 1, 1, 1, 1, 2, 2, 2],
  "Disarming Traps": [2, 3, 2, 1, 1, 1, 1, 2, 2, 1],
  "Picking Locks": [2, 3, 2, 2, 2, 2, 2, 2, 2, 2],
  "Picking Pockets": [1, 2, 2, 1, 1, 1, 1, 1, 2, 1],
  "First Aid": [2, 2, 2, 2, 2, 2, 3, 2, 2, 2],
  Survival: [2, 2, 2, 2, 2, 2, 2, 3, 2, 2],
  Trading: [2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
  "Spell Research": [1, 1, 1, 3, 3, 3, 3, 2, 2, 2],
};







const baseGrowthRates = {
  Bard: { str: 25, con: 20, dex: 25, agi: 20, dis: 15, aur: 25, log: 10, int: 15, wis: 20, inf: 30 },
  Cleric: { str: 20, con: 20, dex: 10, agi: 15, dis: 25, aur: 15, log: 25, int: 25, wis: 30, inf: 20 },
  Empath: { str: 10, con: 20, dex: 15, agi: 15, dis: 25, aur: 20, log: 25, int: 20, wis: 30, inf: 25 },
  Monk: { str: 25, con: 25, dex: 20, agi: 30, dis: 25, aur: 15, log: 20, int: 20, wis: 15, inf: 10 },
  Paladin: { str: 30, con: 25, dex: 20, agi: 20, dis: 25, aur: 15, log: 10, int: 15, wis: 25, inf: 20 },
  Ranger: { str: 25, con: 20, dex: 30, agi: 20, dis: 20, aur: 15, log: 15, int: 25, wis: 25, inf: 10 },
  Rogue: { str: 25, con: 20, dex: 25, agi: 30, dis: 20, aur: 15, log: 20, int: 25, wis: 10, inf: 15 },
  Sorcerer: { str: 10, con: 15, dex: 20, agi: 15, dis: 25, aur: 30, log: 25, int: 20, wis: 25, inf: 20 },
  Warrior: { str: 30, con: 25, dex: 25, agi: 25, dis: 20, aur: 15, log: 10, int: 20, wis: 15, inf: 20 },
  Wizard: { str: 10, con: 15, dex: 25, agi: 15, dis: 20, aur: 30, log: 25, int: 25, wis: 20, inf: 20 },
};

const raceGrowthModifiers = {
  Aelotoi: { str: 0, con: -2, dex: 3, agi: 3, dis: 2, aur: 0, log: 0, int: 2, wis: 0, inf: -2 },
  "Burghal Gnome": { str: -5, con: 0, dex: 3, agi: 3, dis: -3, aur: -2, log: 5, int: 5, wis: 0, inf: 0 },
  "Dark Elf": { str: 0, con: -2, dex: 5, agi: 5, dis: -2, aur: 0, log: 0, int: 0, wis: 0, inf: 0 },
  Dwarf: { str: 5, con: 5, dex: -3, agi: -5, dis: 3, aur: 0, log: 0, int: 0, wis: 3, inf: -2 },
  Elf: { str: 0, con: -5, dex: 5, agi: 3, dis: -5, aur: 5, log: 0, int: 0, wis: 0, inf: 3 },
  Erithian: { str: -2, con: 0, dex: 0, agi: 0, dis: 3, aur: 0, log: 2, int: 0, wis: 0, inf: 3 },
  "Forest Gnome": { str: -3, con: 2, dex: 2, agi: 3, dis: 2, aur: 0, log: 0, int: 0, wis: 0, inf: 0 },
  Giantman: { str: 5, con: 3, dex: -2, agi: -2, dis: 0, aur: 0, log: 0, int: 2, wis: 0, inf: 0 },
  "Half-Elf": { str: 2, con: 0, dex: 2, agi: 2, dis: -2, aur: 0, log: 0, int: 0, wis: 0, inf: 2 },
  "Half-Krolvin": { str: 3, con: 5, dex: 2, agi: 2, dis: 0, aur: -2, log: -2, int: 0, wis: 0, inf: -2 },
  Halfling: { str: -5, con: 5, dex: 5, agi: 5, dis: -2, aur: 0, log: -2, int: 0, wis: 0, inf: 0 },
  Human: { str: 2, con: 2, dex: 0, agi: 0, dis: 0, aur: 0, log: 0, int: 2, wis: 0, inf: 0 },
  Sylvankind: { str: -3, con: -2, dex: 5, agi: 5, dis: -5, aur: 3, log: 0, int: 0, wis: 0, inf: 3 },
};

const raceStatBonusModifiers = {
  Aelotoi: { str: -5, con: 0, dex: 5, agi: 10, dis: 5, aur: 0, log: 5, int: 5, wis: 0, inf: -5 },
  "Burghal Gnome": { str: -15, con: 10, dex: 10, agi: 10, dis: -5, aur: 5, log: 10, int: 5, wis: 0, inf: -5 },
  "Dark Elf": { str: 0, con: -5, dex: 10, agi: 5, dis: -10, aur: 10, log: 0, int: 5, wis: 5, inf: -5 },
  Dwarf: { str: 10, con: 15, dex: 0, agi: -5, dis: 10, aur: -10, log: 5, int: 0, wis: 0, inf: -10 },
  Elf: { str: 0, con: 0, dex: 5, agi: 15, dis: -15, aur: 5, log: 0, int: 0, wis: 0, inf: 10 },
  Erithian: { str: -5, con: 10, dex: 0, agi: 0, dis: 5, aur: 0, log: 5, int: 0, wis: 0, inf: 10 },
  "Forest Gnome": { str: -10, con: 10, dex: 5, agi: 10, dis: 5, aur: 0, log: 5, int: 0, wis: 5, inf: -5 },
  Giantman: { str: 15, con: 10, dex: -5, agi: -5, dis: 0, aur: -5, log: -5, int: 0, wis: 0, inf: 5 },
  "Half-Elf": { str: 0, con: 0, dex: 5, agi: 10, dis: -5, aur: 0, log: 0, int: 0, wis: 0, inf: 5 },
  "Half-Krolvin": { str: 10, con: 10, dex: 0, agi: 5, dis: 0, aur: 0, log: -10, int: 0, wis: -5, inf: -5 },
  Halfling: { str: -15, con: 10, dex: 15, agi: 10, dis: -5, aur: -5, log: 5, int: 10, wis: 0, inf: -5 },
  Human: { str: 5, con: 0, dex: 0, agi: 0, dis: 0, aur: 0, log: 5, int: 5, wis: 0, inf: 0 },
  Sylvankind: { str: 0, con: 0, dex: 10, agi: 5, dis: -5, aur: 5, log: 0, int: 0, wis: 0, inf: 0 },
};

  root.GS4_DATA = {
    races,
    armorAsg,
    stats,
    skillCatalog,
    spellCircles,
    professionSpellCircleMap,
    skillCategoryByName,
    skillCategoryOrder,
    skillAliasMap,
    ascMnemonicMap,
    professions,
    professionPrimeReqs,
    levelThresholds,
    costProfessionOrder,
    trainingCostRows,
    loreSkillNames,
    maxPerLevelRows,
    baseGrowthRates,
    raceGrowthModifiers,
    raceStatBonusModifiers,
  };
})(typeof globalThis !== "undefined" ? globalThis : window);
